html
  head
    link(type="text/css", rel="stylesheet", href="stylesheet/3dhop.css")
    script(type='text/javascript').
      var generateSignature = function (callback, params_to_sign) {
        $.ajax({
          url: "https://www.my-domain.com/my_generate_signature",
          type: "GET",
          dataType: "text",
          data: {data: params_to_sign},
          complete: function () {
            console.log("complete")
          },
          success: function (signature, textStatus, xhr) {
            callback(signature);
          },
          error: function (xhr, status, error) {
            console.log(xhr, status, error);
          }
        });
      }
  body
    header Upload Your Model
    button#upload_widget.cloudinary-button Upload files
    button#save Save
  script(src='https://upload-widget.cloudinary.com/global/all.js', type='text/javascript')
  script(type='text/javascript').
    var myWidget = cloudinary.createUploadWidget({
    cloudName: 'dwxlduhe0',
    uploadPreset: 'Fproject'}, (error, result) => {
    if (!error && result && result.event === "success") {
      console.log('Done! Here is the model url: ', result.info.path);
    }
    }
    )
    document.getElementById("upload_widget").addEventListener("click", function(){
      myWidget.open();
    }, false);
    document.getElementById("save").addEventListener("click", function () {
      const xhr = new XMLHttpRequest();
      xhr.open('GET', '/ModelDetails');
      xhr.send();
      console.log('saved');
    }, false);

    cloudinary.applyUploadWidget(document.getElementById('upload_widget_opener'),
            {api_key: "256392223264485", cloudName: "dwxlduhe0"},
            (error, result) => {
                if (!error && result && result.event === "success") {
                }

            });




